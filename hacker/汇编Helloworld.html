<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>汇编Helloworld | 狸知</title>
    <meta name="description" content="Ahriblog ahriknow blog vue python java">
    <link rel="apple-touch-icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.171ea0f7.css" as="style"><link rel="preload" href="/assets/js/app.99b2b85e.js" as="script"><link rel="preload" href="/assets/js/2.5cb3218f.js" as="script"><link rel="preload" href="/assets/js/12.ba95223f.js" as="script"><link rel="preload" href="/assets/js/15.8aa5b3b0.js" as="script"><link rel="preload" href="/assets/js/9.a7804df5.js" as="script"><link rel="prefetch" href="/assets/js/10.f75510ed.js"><link rel="prefetch" href="/assets/js/11.dfdb56b3.js"><link rel="prefetch" href="/assets/js/13.96316d8c.js"><link rel="prefetch" href="/assets/js/14.08365668.js"><link rel="prefetch" href="/assets/js/16.5eab03aa.js"><link rel="prefetch" href="/assets/js/17.c3c6df4d.js"><link rel="prefetch" href="/assets/js/18.f8e0fa74.js"><link rel="prefetch" href="/assets/js/19.a030c276.js"><link rel="prefetch" href="/assets/js/20.7db42ca7.js"><link rel="prefetch" href="/assets/js/21.778ebe72.js"><link rel="prefetch" href="/assets/js/22.0bca31bc.js"><link rel="prefetch" href="/assets/js/23.e89ee25d.js"><link rel="prefetch" href="/assets/js/24.2ff05ded.js"><link rel="prefetch" href="/assets/js/25.0a102772.js"><link rel="prefetch" href="/assets/js/26.aecf99a3.js"><link rel="prefetch" href="/assets/js/27.90433ef0.js"><link rel="prefetch" href="/assets/js/28.088f84e4.js"><link rel="prefetch" href="/assets/js/29.28c54f11.js"><link rel="prefetch" href="/assets/js/3.05960a70.js"><link rel="prefetch" href="/assets/js/30.1387ff4e.js"><link rel="prefetch" href="/assets/js/31.74cb73e7.js"><link rel="prefetch" href="/assets/js/32.a713b72c.js"><link rel="prefetch" href="/assets/js/33.b19a2891.js"><link rel="prefetch" href="/assets/js/34.c45db405.js"><link rel="prefetch" href="/assets/js/35.322e1fa6.js"><link rel="prefetch" href="/assets/js/36.87012c5d.js"><link rel="prefetch" href="/assets/js/37.4e0e8c53.js"><link rel="prefetch" href="/assets/js/38.5098200c.js"><link rel="prefetch" href="/assets/js/39.7e7fa219.js"><link rel="prefetch" href="/assets/js/4.8c25cbed.js"><link rel="prefetch" href="/assets/js/40.f0e35b5a.js"><link rel="prefetch" href="/assets/js/41.d5a6c518.js"><link rel="prefetch" href="/assets/js/42.1f006f03.js"><link rel="prefetch" href="/assets/js/43.ba4564b7.js"><link rel="prefetch" href="/assets/js/44.a238f281.js"><link rel="prefetch" href="/assets/js/45.e079ca3c.js"><link rel="prefetch" href="/assets/js/46.3fe52770.js"><link rel="prefetch" href="/assets/js/47.85b42d94.js"><link rel="prefetch" href="/assets/js/48.7bee0622.js"><link rel="prefetch" href="/assets/js/49.ff95d0e5.js"><link rel="prefetch" href="/assets/js/5.b2a21b98.js"><link rel="prefetch" href="/assets/js/50.f1bc26b2.js"><link rel="prefetch" href="/assets/js/51.952d06a9.js"><link rel="prefetch" href="/assets/js/52.7094ff0b.js"><link rel="prefetch" href="/assets/js/53.8717195c.js"><link rel="prefetch" href="/assets/js/54.a5a320d0.js"><link rel="prefetch" href="/assets/js/55.86f94dff.js"><link rel="prefetch" href="/assets/js/6.6f23fd82.js"><link rel="prefetch" href="/assets/js/7.e26b3b64.js"><link rel="prefetch" href="/assets/js/8.1255d848.js">
    <link rel="stylesheet" href="/assets/css/0.styles.171ea0f7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">狸知</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div><div class="nav-item"><a href="/category/" class="nav-link">所有文章</a></div><div class="nav-item"><a href="https://admin.ahriknow.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ahriknow
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/fox-ahri/ahriblog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div><div class="nav-item"><a href="/category/" class="nav-link">所有文章</a></div><div class="nav-item"><a href="https://admin.ahriknow.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ahriknow
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/fox-ahri/ahriblog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Be a Hacker</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hacker/汇编Helloworld.html" class="active sidebar-link">汇编Helloworld</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hacker/汇编Helloworld.html#本页目录" class="sidebar-link">本页目录</a></li><li class="sidebar-sub-header"><a href="/hacker/汇编Helloworld.html#helloworld" class="sidebar-link">Helloworld</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hacker/汇编Helloworld.html#编写汇编代码" class="sidebar-link">编写汇编代码</a></li><li class="sidebar-sub-header"><a href="/hacker/汇编Helloworld.html#编译汇编代码" class="sidebar-link">编译汇编代码</a></li><li class="sidebar-sub-header"><a href="/hacker/汇编Helloworld.html#创建虚拟软盘" class="sidebar-link">创建虚拟软盘</a></li><li class="sidebar-sub-header"><a href="/hacker/汇编Helloworld.html#将二进制文件写入软盘" class="sidebar-link">将二进制文件写入软盘</a></li><li class="sidebar-sub-header"><a href="/hacker/汇编Helloworld.html#启动系统" class="sidebar-link">启动系统</a></li></ul></li><li class="sidebar-sub-header"><a href="/hacker/汇编Helloworld.html#汇编读软盘" class="sidebar-link">汇编读软盘</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hacker/汇编Helloworld.html#读取软盘的汇编代码" class="sidebar-link">读取软盘的汇编代码</a></li></ul></li></ul></li><li><a href="/hacker/待续.html" class="sidebar-link">待续...</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="本页目录">本页目录</h2> <p></p><div class="table-of-contents"><ul><li><a href="#本页目录">本页目录</a></li><li><a href="#helloworld">Helloworld</a><ul><li><a href="#编写汇编代码">编写汇编代码</a></li><li><a href="#编译汇编代码">编译汇编代码</a></li><li><a href="#创建虚拟软盘">创建虚拟软盘</a></li><li><a href="#将二进制文件写入软盘">将二进制文件写入软盘</a></li><li><a href="#启动系统">启动系统</a></li></ul></li><li><a href="#汇编读软盘">汇编读软盘</a><ul><li><a href="#读取软盘的汇编代码">读取软盘的汇编代码</a></li></ul></li></ul></div><p></p> <h2 id="helloworld">Helloworld</h2> <h3 id="编写汇编代码">编写汇编代码</h3> <div class="language-asm line-numbers-mode"><pre class="language-text"><code>org  0x7c00 ; 指示 BIOS 加载代码时将程序写到内存的 0x7c00

jmp  entry ; 跳转(如果是函数则调用)，此行代码对应的机器码是 3 字节
db   0x90 ; 0x7c00 + 3 处申请1个字节内存空间写入 0x90
DB   &quot;OSKERNEL&quot; ; 0x7c00 + 3 + 1 处开始申请内存空间写入 OSKERNEL
                ; (连续申请9个字节，字符串结尾会分配一个结束符)
DW   512 ; 申请 2 个字节内存空间写入 512
DB   1
DW   1
DB   2
DW   224
DW   2880
DB   0xf0
DW   9
DW   18
DW   2
DD   0
DD   2880
DB   0,0,0x29
DD   0xFFFFFFFF ; 申请 4 个字节内存空间写入 512
DB   &quot;MYFIRSTOS  &quot;
DB   &quot;FAT12   &quot;
RESB  18 ; 把接下来的18个字节的内存全部初始化为 0

entry:
    mov  ax, 0 ; 将 0 赋值给 ax 寄存器(ax大小 2字节)
    mov  ss, ax
    mov  ds, ax
    mov  es, ax
    mov  si, msg

putloop:
    mov  al, [si] ; al 是 ax 寄存器的低 8 位
    add  si, 1 ; 下一个字节
    cmp  al, 0 ; 如果 al 是 0 执行下行
    je   fin
    mov  ah, 0x0e ; 输出
    mov  bx, 15
    int  0x10 ; 执行
    jmp  putloop

fin:
    HLT
    jmp  fin ; 死循环

msg:
    DB    0x0a,  0x0a ; 输出换行符
    db    &quot;hello, world&quot;
    db    0x0a
    db    0 ; 停止输出
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="编译汇编代码">编译汇编代码</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>nasm -o boot.bin helloworld.asm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="创建虚拟软盘">创建虚拟软盘</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>tmp.img <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">1024</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1440</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="将二进制文件写入软盘">将二进制文件写入软盘</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>boot.bin <span class="token assign-left variable">of</span><span class="token operator">=</span>boot.img <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">512</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>tmp.img <span class="token assign-left variable">of</span><span class="token operator">=</span>boot.img <span class="token assign-left variable">skip</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">seek</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">512</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">2879</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>或用 windows 平台软件操作</p> <p><a href="http://ahri-share.oss-cn-beijing.aliyuncs.com/blog/hacker/FloppyWriter.exe" target="_blank" rel="noopener noreferrer">FloppyWriter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="data:image/png;base64,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" alt="FloppyWriter"></p> <p>先选择二进制文件 boot.bin，再选择软盘镜像 boot.img</p> <h3 id="启动系统">启动系统</h3> <p>Vmware 添加软盘驱动并选择 boot.img，启动
<a href="http://ahri-share.oss-cn-beijing.aliyuncs.com/blog/hacker/boot.img" target="_blank" rel="noopener noreferrer">写好的 boot.img<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="data:image/png;base64,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" alt="run"></p> <h2 id="汇编读软盘">汇编读软盘</h2> <p>使用汇编读取软盘的原理与上面描述的相同，我们要调用相应的 BIOS 中断，同时将要读取的磁头号，柱面，扇区号传给中断代码，读取软盘的汇编代码如下：</p> <div class="language-asm line-numbers-mode"><pre class="language-text"><code>mov CH, 1 ; CH 存储柱面号
mov DH, 0 ; DH 存储磁头号
mov CL, 2 ; CL 存储扇区号

mov BX, msg ; BX 数据存储缓冲区

mov AH, 0x02 ; AH = 02 表示要做的是读盘操作
mov AL, 1 ; AL 表示要练习读取几个扇区
mov DL, 0 ; 驱动器编号，只有一个软盘驱动器，所以为 0
INT 0x13 ; 调用 BIOS 中断实现磁盘读取功能
JC error ; 如果读盘出现错误，跳转到 error 处执行相应代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>在计算机硬件中，有一个隐含的寄存器叫 FLACS, 当 BIOS 调用出现错误时，FLACS 寄存器的 CF 位会置为 1，同时把错误代码存入 AH,如果没有错，那么 FLACS 寄存器的 CF 位会设置为 0</p> <h3 id="读取软盘的汇编代码">读取软盘的汇编代码</h3> <p>将第二扇区的数据读取出来并显示</p> <div class="language-asm line-numbers-mode"><pre class="language-text"><code>org  0x7c00;

entry:
    mov  ax, 0
    mov  ss, ax
    mov  ds, ax
    mov  es, ax
    mov  si, msg

readContent:
    mov  CH, 1
    mov  DH, 0
    mov  CL, 2

    mov  BX, msg

    mov  AH, 0x02
    mov  AL,  1
    mov  DL, 0
    INT  0x13

    jc  error

putloop:
    mov  al, [si]
    add  si, 1
    cmp  al, 0
    je   fin
    mov  ah, 0x0e
    mov  bx, 15
    int  0x10
    jmp  putloop

fin:
    HLT
    jmp  fin

error:
    mov si, errmsg
    jmp   putloop

msg:
    RESB   64
errmsg:
    DB &quot;error&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><div id="valine" class="valine"><hr style="border-top: 4px dashed #ddd"> <div id="vcomments"></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/fox-ahri/ahriblog/edit/master/docs/hacker/汇编Helloworld.md" target="_blank" rel="noopener noreferrer">编辑文档</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">1 天前</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/hacker/待续.html">待续...</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2dcanvas" width="135" height="300" class="live2dcanvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/assets/js/app.99b2b85e.js" defer></script><script src="/assets/js/2.5cb3218f.js" defer></script><script src="/assets/js/12.ba95223f.js" defer></script><script src="/assets/js/15.8aa5b3b0.js" defer></script><script src="/assets/js/9.a7804df5.js" defer></script>
  </body>
</html>
