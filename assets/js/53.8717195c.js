(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{342:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"本页目录"}},[s._v("本页目录")]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#本页目录"}},[s._v("本页目录")])]),a("li",[a("a",{attrs:{href:"#redis-哨兵"}},[s._v("Redis 哨兵")]),a("ul",[a("li",[a("a",{attrs:{href:"#哨兵的作用"}},[s._v("哨兵的作用")])]),a("li",[a("a",{attrs:{href:"#哨兵的核心"}},[s._v("哨兵的核心")])]),a("li",[a("a",{attrs:{href:"#sdown-和-odown"}},[s._v("sdown 和 odown")])])])]),a("li",[a("a",{attrs:{href:"#多哨兵搭建-一主两从三哨兵"}},[s._v("多哨兵搭建(一主两从三哨兵)")]),a("ul",[a("li",[a("a",{attrs:{href:"#更改配置文件"}},[s._v("更改配置文件")])]),a("li",[a("a",{attrs:{href:"#更改-哨兵-配置文件"}},[s._v("更改 哨兵 配置文件")])]),a("li",[a("a",{attrs:{href:"#启动服务"}},[s._v("启动服务")])]),a("li",[a("a",{attrs:{href:"#启动哨兵"}},[s._v("启动哨兵")])]),a("li",[a("a",{attrs:{href:"#python-读写测试"}},[s._v("Python 读写测试")])])])]),a("li",[a("a",{attrs:{href:"#高可用测试"}},[s._v("高可用测试")]),a("ul",[a("li",[a("a",{attrs:{href:"#关闭-master"}},[s._v("关闭 master")])]),a("li",[a("a",{attrs:{href:"#重启-关掉的服务"}},[s._v("重启 关掉的服务")])])])])])]),a("p"),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("h4",{attrs:{id:"非-root-用户-请添加-sudo"}},[s._v("非 root 用户 请添加 sudo")])]),s._v(" "),a("h2",{attrs:{id:"redis-哨兵"}},[s._v("Redis 哨兵")]),s._v(" "),a("blockquote",[a("p",[s._v("在复制的基础上，哨兵实现了自动化的故障恢复。缺陷是写操作无法负载均衡，存储能力受单机限制。")])]),s._v(" "),a("h3",{attrs:{id:"哨兵的作用"}},[s._v("哨兵的作用")]),s._v(" "),a("ul",[a("li",[s._v("集群监控：负责监控 "),a("code",[s._v("redis master")]),s._v(" 和 "),a("code",[s._v("slave")]),s._v(" 进程是否正常工作")]),s._v(" "),a("li",[s._v("消息通知：某个 "),a("code",[s._v("redis")]),s._v(" 实例出现故障时，发送警报消息给管理员")]),s._v(" "),a("li",[s._v("故障转移：如果 "),a("code",[s._v("master node")]),s._v(" 挂掉，会自动转移到 "),a("code",[s._v("slave node")]),s._v(" 上")]),s._v(" "),a("li",[s._v("配置中心：如果故障转移发生了，通知 "),a("code",[s._v("client")]),s._v(" 客户端新的 "),a("code",[s._v("master")]),s._v(" 地址")])]),s._v(" "),a("h3",{attrs:{id:"哨兵的核心"}},[s._v("哨兵的核心")]),s._v(" "),a("ul",[a("li",[s._v("故障转移时，判断一个 "),a("code",[s._v("master node")]),s._v(" 是否宕机了，需要大部分的哨兵同意 -- 分布式选举问题")]),s._v(" "),a("li",[s._v("哨兵至少需要三个实例来保证健壮性")]),s._v(" "),a("li",[s._v("哨兵 + 主从 是不会保证数据零丢失的，只能保证 "),a("code",[s._v("redis")]),s._v(" 集群的高可用性\n"),a("blockquote",[a("p",[s._v("master -> slave 的复制时异步的，所以有可能部分数据还没到 slave，master 就宕机了")])])])]),s._v(" "),a("h3",{attrs:{id:"sdown-和-odown"}},[s._v("sdown 和 odown")]),s._v(" "),a("ul",[a("li",[s._v("sdown 和 odown 是两种失败状态")]),s._v(" "),a("li",[s._v("sdown 是主观宕机，一个哨兵自己觉得一个 master 宕机了")]),s._v(" "),a("li",[s._v("odown 是客观宕机，"),a("code",[s._v("quorum")]),s._v(" 数量的哨兵都觉得一个 master 宕机了")]),s._v(" "),a("li",[s._v("sdown 达成条件，一个哨兵 ping 一个 "),a("code",[s._v("master")]),s._v("，超过 "),a("code",[s._v("is-master-down-after-milliseconds")]),s._v(" 指定的毫秒数")]),s._v(" "),a("li",[s._v("odown 达成条件，一个哨兵在指定时间内，收到了 "),a("code",[s._v("quorum")]),s._v(" 指定数量其他哨兵也认为哪个 "),a("code",[s._v("master")]),s._v(" 宕机")])]),s._v(" "),a("h2",{attrs:{id:"多哨兵搭建-一主两从三哨兵"}},[s._v("多哨兵搭建(一主两从三哨兵)")]),s._v(" "),a("ul",[a("li",[s._v("主 "),a("code",[s._v("10.10.5.107:7000")])]),s._v(" "),a("li",[s._v("从 "),a("code",[s._v("10.10.5.107:7001")]),s._v(", "),a("code",[s._v("10.10.5.107:7002")])]),s._v(" "),a("li",[s._v("哨兵 "),a("code",[s._v("10.10.5.107:7000")]),s._v(", "),a("code",[s._v("10.10.5.107:7001")]),s._v(", "),a("code",[s._v("10.10.5.107:7002")])])]),s._v(" "),a("h3",{attrs:{id:"更改配置文件"}},[s._v("更改配置文件")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp redis.conf redis-7000.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp redis.conf redis-7001.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp redis.conf redis-7002.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim redis-7000.conf")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bind 127.0.0.1 # 注释掉")]),s._v("\n\nprotected-mode "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为")]),s._v("\nprotected-mode no "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保护模式")]),s._v("\n\ndaemonize no\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为")]),s._v("\ndaemonize "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 守护进程")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"分别更改端口"}},[s._v("分别更改端口")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7001 7002")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"配置从服务器"}},[s._v("配置从服务器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# replicaof <masterip> <masterport>")]),s._v("\nreplicaof "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7001 和 7002 添加")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"更改-哨兵-配置文件"}},[s._v("更改 哨兵 配置文件")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim sentinel.conf")]),s._v("\nport "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26379")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分别改为")]),s._v("\nport "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),s._v("\nport "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),s._v("\nport "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),s._v("\n\nlogfile "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分别改为")]),s._v("\nlogfile "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/redis/redis-5.0.7/27000.log"')]),s._v("\nlogfile "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/redis/redis-5.0.7/27001.log"')]),s._v("\nlogfile "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/redis/redis-5.0.7/27002.log"')]),s._v("\n\nsentinel monitor mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为")]),s._v("\nsentinel monitor mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 监控 master 2：多数派数量")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"启动服务"}},[s._v("启动服务")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-server ./redis-7000.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1709")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":43:58.753 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1709")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":43:58.753 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1709, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1709")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":43:58.753 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-server ./redis-7001.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1729")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":52:43.401 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1729")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":52:43.401 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1729, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1729")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":52:43.401 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-server ./redis-7002.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1735")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":52:47.824 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1735")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":52:47.824 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1735, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1735")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":52:47.824 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -ntlp")]),s._v("\nActive Internet connections "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("only servers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7000            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1710")]),s._v("/./src/redis-se\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7001            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1730")]),s._v("/./src/redis-se\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:25            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1271")]),s._v("/master\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7002            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1736")]),s._v("/./src/redis-se\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:22              "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1112")]),s._v("/sshd\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7000                 :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1710")]),s._v("/./src/redis-se\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7001                 :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1730")]),s._v("/./src/redis-se\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ::1:25                  :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1271")]),s._v("/master\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7002                 :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1736")]),s._v("/./src/redis-se\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::22                   :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1112")]),s._v("/sshd\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h4",{attrs:{id:"主服务器"}},[s._v("主服务器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-cli -p 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" keys *\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty list or "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" info Replication\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Replication")]),s._v("\nrole:master\nconnected_slaves:2\nslave0:ip"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100,port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(",state"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("online,offset"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("308")]),s._v(",lag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nslave1:ip"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100,port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(",state"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("online,offset"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("308")]),s._v(",lag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nmaster_replid:0244075394d298b7031491551f19736034afb85e\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:308\nsecond_repl_offset:-1\nrepl_backlog_active:1\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:1\nrepl_backlog_histlen:308\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h4",{attrs:{id:"从服务器-1"}},[s._v("从服务器 1")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-cli -p 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" keys *\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty list or "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" info Replication\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Replication")]),s._v("\nrole:slave\nmaster_host:10.10.10.100\nmaster_port:7000\nmaster_link_status:up\nmaster_last_io_seconds_ago:6\nmaster_sync_in_progress:0\nslave_repl_offset:294\nslave_priority:100\nslave_read_only:1\nconnected_slaves:0\nmaster_replid:0244075394d298b7031491551f19736034afb85e\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:294\nsecond_repl_offset:-1\nrepl_backlog_active:1\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:1\nrepl_backlog_histlen:294\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h4",{attrs:{id:"从服务器-2"}},[s._v("从服务器 2")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-cli -p 7002")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" keys *\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty list or "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" info Replication\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Replication")]),s._v("\nrole:slave\nmaster_host:10.10.10.100\nmaster_port:7000\nmaster_link_status:up\nmaster_last_io_seconds_ago:3\nmaster_sync_in_progress:0\nslave_repl_offset:294\nslave_priority:100\nslave_read_only:1\nconnected_slaves:0\nmaster_replid:0244075394d298b7031491551f19736034afb85e\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:294\nsecond_repl_offset:-1\nrepl_backlog_active:1\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:1\nrepl_backlog_histlen:294\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h3",{attrs:{id:"启动哨兵"}},[s._v("启动哨兵")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-server ./sentinel-27000.conf --sentinel")]),s._v("\n--\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-server ./sentinel-27001.conf --sentinel")]),s._v("\n--\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-server ./sentinel-27002.conf --sentinel")]),s._v("\n--\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -ntlp")]),s._v("\nActive Internet connections "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("only servers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:27000           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v("/./src/redis-se\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7000            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1710")]),s._v("/./src/redis-se\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:27001           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v("/./src/redis-se\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7001            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1730")]),s._v("/./src/redis-se\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:25            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1271")]),s._v("/master\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:27002           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v("/./src/redis-se\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7002            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1736")]),s._v("/./src/redis-se\ntcp        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:22              "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1112")]),s._v("/sshd\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::27000                :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v("/./src/redis-se\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7000                 :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1710")]),s._v("/./src/redis-se\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::27001                :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v("/./src/redis-se\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7001                 :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1730")]),s._v("/./src/redis-se\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ::1:25                  :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1271")]),s._v("/master\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::27002                :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v("/./src/redis-se\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::7002                 :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1736")]),s._v("/./src/redis-se\ntcp6       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::22                   :::*                    LISTEN      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1112")]),s._v("/sshd\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h3",{attrs:{id:"python-读写测试"}},[s._v("Python 读写测试")]),s._v(" "),a("div",{staticClass:"language-py line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sentinel "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Sentinel\nsentinel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" socket_timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discover_master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mymaster'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ('10.10.10.100', 7000)")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discover_slaves"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mymaster'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [('10.10.10.100', 7002), ('10.10.10.100', 7001)]")]),s._v("\n\nmaster "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("master_for"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mymaster'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" socket_timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ahri'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# True")]),s._v("\n\nslave "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slave_for"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mymaster'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" socket_timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("slave"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# b'ahri'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("slave"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("decode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ahri")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-cli -p 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" keys *\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" get hello\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ahri"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-cli -p 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" keys *\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" get hello\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ahri"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-cli -p 7002")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" keys *\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" get hello\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ahri"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:700"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h2",{attrs:{id:"高可用测试"}},[s._v("高可用测试")]),s._v(" "),a("h3",{attrs:{id:"关闭-master"}},[s._v("关闭 master")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kill -9 1710")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat 27000.log")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.127 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.127 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1814, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.127 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.128 * Increased maximum number of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" files to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10032")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("it was originally "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.129 * Running "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sentinel, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.129 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.130 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel ID is 7a63a8db891d8d277abddac20d0a85c5852c3a33")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.130 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +monitor master mymaster 10.10.10.100 7000 quorum 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.131 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.131 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:53.183 * +sentinel sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:05.025 * +sentinel sentinel ec863fa8013b44c9f9b0df0794bcd06acd197702 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:38.531 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.886 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -sdown sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat 27001.log")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.162 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.162 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1819, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.162 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.163 * Increased maximum number of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" files to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10032")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("it was originally "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.163 * Running "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sentinel, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.163 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.164 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel ID is a4db54b4a862c06987494943d793f2c6a47e0d05")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.164 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +monitor master mymaster 10.10.10.100 7000 quorum 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.165 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.166 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.405 * +sentinel sentinel 7a63a8db891d8d277abddac20d0a85c5852c3a33 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:05.023 * +sentinel sentinel ec863fa8013b44c9f9b0df0794bcd06acd197702 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":signal-handler "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577765828")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Received SIGINT scheduling shutdown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:08.443 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# User requested shutdown...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:08.443 * Removing the pid file.\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:08.443 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel is now ready to exit, bye bye...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.165 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.166 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1884, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.166 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.166 * Increased maximum number of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" files to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10032")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("it was originally "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.167 * Running "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sentinel, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.167 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.167 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel ID is a4db54b4a862c06987494943d793f2c6a47e0d05")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.167 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +monitor master mymaster 10.10.10.100 7000 quorum 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.816 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.875 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +odown master mymaster 10.10.10.100 7000 #quorum 3/2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.875 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +new-epoch 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.875 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +try-failover master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.878 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +vote-for-leader a4db54b4a862c06987494943d793f2c6a47e0d05 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.887 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ec863fa8013b44c9f9b0df0794bcd06acd197702 voted for a4db54b4a862c06987494943d793f2c6a47e0d05 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.888 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7a63a8db891d8d277abddac20d0a85c5852c3a33 voted for a4db54b4a862c06987494943d793f2c6a47e0d05 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.931 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +elected-leader master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.931 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +failover-state-select-slave master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.998 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +selected-slave slave 10.10.10.100:7001 10.10.10.100 7001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.998 * +failover-state-send-slaveof-noone slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.089 * +failover-state-wait-promotion slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.804 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +promoted-slave slave 10.10.10.100:7001 10.10.10.100 7001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.804 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +failover-state-reconf-slaves master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.884 * +slave-reconf-sent slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.060 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -odown master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.858 * +slave-reconf-inprog slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.858 * +slave-reconf-done slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.959 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +failover-end master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.959 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +switch-master mymaster 10.10.10.100 7000 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.959 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.959 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat 27002.log")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.016 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.016 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1839, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.016 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.016 * Increased maximum number of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" files to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10032")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("it was originally "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.017 * Running "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sentinel, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.017 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.018 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel ID is ec863fa8013b44c9f9b0df0794bcd06acd197702")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.018 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +monitor master mymaster 10.10.10.100 7000 quorum 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.019 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.020 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.363 * +sentinel sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.620 * +sentinel sentinel 7a63a8db891d8d277abddac20d0a85c5852c3a33 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:38.554 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.943 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -sdown sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.733 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.883 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +new-epoch 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.886 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +vote-for-leader a4db54b4a862c06987494943d793f2c6a47e0d05 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.817 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +odown master mymaster 10.10.10.100 7000 #quorum 3/2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.818 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Next failover delay: I will not start a failover before Mon Dec 30 23:37:35 2019")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.890 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +config-update-from sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.890 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +switch-master mymaster 10.10.10.100 7000 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.890 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.890 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br")])]),a("div",{staticClass:"language-py line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[s._v("`"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sentinel "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Sentinel\nsentinel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" socket_timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discover_master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mymaster'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ('10.10.10.100', 7001)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discover_slaves"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mymaster'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("`\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [('10.10.10.100', 7002)]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"重启-关掉的服务"}},[s._v("重启 关掉的服务")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./src/redis-server ./redis-7000.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2214")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 00:09:03.416 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2214")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 00:09:03.416 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=2214, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2214")]),s._v(":C "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 00:09:03.416 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat 27000.log")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.127 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.127 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1814, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.127 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.128 * Increased maximum number of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" files to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10032")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("it was originally "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.129 * Running "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sentinel, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.129 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.130 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel ID is 7a63a8db891d8d277abddac20d0a85c5852c3a33")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.130 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +monitor master mymaster 10.10.10.100 7000 quorum 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.131 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":59:36.131 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:53.183 * +sentinel sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:05.025 * +sentinel sentinel ec863fa8013b44c9f9b0df0794bcd06acd197702 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:38.531 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.886 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -sdown sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.800 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.884 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +new-epoch 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.887 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +vote-for-leader a4db54b4a862c06987494943d793f2c6a47e0d05 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.887 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +odown master mymaster 10.10.10.100 7000 #quorum 2/2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.887 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Next failover delay: I will not start a failover before Mon Dec 30 23:37:35 2019")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.893 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +config-update-from sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.893 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +switch-master mymaster 10.10.10.100 7000 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.893 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.893 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":32:05.992 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown slave 10.10.10.100:7000 10.10.10.100 7000 @ mymaster 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1814")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 00:09:04.142 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -sdown slave 10.10.10.100:7000 10.10.10.100 7000 @ mymaster 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat 27001.log")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.162 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.162 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1819, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.162 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.163 * Increased maximum number of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" files to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10032")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("it was originally "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.163 * Running "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sentinel, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.163 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.164 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel ID is a4db54b4a862c06987494943d793f2c6a47e0d05")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.164 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +monitor master mymaster 10.10.10.100 7000 quorum 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.165 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.166 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":00:51.405 * +sentinel sentinel 7a63a8db891d8d277abddac20d0a85c5852c3a33 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:05.023 * +sentinel sentinel ec863fa8013b44c9f9b0df0794bcd06acd197702 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":signal-handler "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577765828")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Received SIGINT scheduling shutdown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:08.443 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# User requested shutdown...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:08.443 * Removing the pid file.\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:08.443 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel is now ready to exit, bye bye...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.165 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.166 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1884, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.166 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.166 * Increased maximum number of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" files to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10032")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("it was originally "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.167 * Running "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sentinel, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.167 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.167 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel ID is a4db54b4a862c06987494943d793f2c6a47e0d05")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.167 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +monitor master mymaster 10.10.10.100 7000 quorum 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.816 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.875 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +odown master mymaster 10.10.10.100 7000 #quorum 3/2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.875 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +new-epoch 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.875 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +try-failover master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.878 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +vote-for-leader a4db54b4a862c06987494943d793f2c6a47e0d05 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.887 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ec863fa8013b44c9f9b0df0794bcd06acd197702 voted for a4db54b4a862c06987494943d793f2c6a47e0d05 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.888 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7a63a8db891d8d277abddac20d0a85c5852c3a33 voted for a4db54b4a862c06987494943d793f2c6a47e0d05 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.931 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +elected-leader master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.931 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +failover-state-select-slave master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.998 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +selected-slave slave 10.10.10.100:7001 10.10.10.100 7001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.998 * +failover-state-send-slaveof-noone slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.089 * +failover-state-wait-promotion slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.804 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +promoted-slave slave 10.10.10.100:7001 10.10.10.100 7001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.804 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +failover-state-reconf-slaves master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.884 * +slave-reconf-sent slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.060 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -odown master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.858 * +slave-reconf-inprog slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.858 * +slave-reconf-done slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.959 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +failover-end master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.959 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +switch-master mymaster 10.10.10.100 7000 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.959 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:36.959 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":32:06.996 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown slave 10.10.10.100:7000 10.10.10.100 7000 @ mymaster 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 00:09:03.593 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -sdown slave 10.10.10.100:7000 10.10.10.100 7000 @ mymaster 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1884")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 00:09:13.545 * +convert-to-slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat 27002.log")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.016 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.016 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=1839, just started")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.016 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.016 * Increased maximum number of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" files to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10032")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("it was originally "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.017 * Running "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sentinel, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.017 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.018 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Sentinel ID is ec863fa8013b44c9f9b0df0794bcd06acd197702")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.018 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +monitor master mymaster 10.10.10.100 7000 quorum 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.019 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.020 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.363 * +sentinel sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":01:03.620 * +sentinel sentinel 7a63a8db891d8d277abddac20d0a85c5852c3a33 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":17:38.554 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":18:12.943 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -sdown sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.733 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown master mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.883 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +new-epoch 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:34.886 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +vote-for-leader a4db54b4a862c06987494943d793f2c6a47e0d05 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.817 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +odown master mymaster 10.10.10.100 7000 #quorum 3/2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.818 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Next failover delay: I will not start a failover before Mon Dec 30 23:37:35 2019")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.890 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +config-update-from sentinel a4db54b4a862c06987494943d793f2c6a47e0d05 10.10.10.100 27001 @ mymaster 10.10.10.100 7000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.890 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +switch-master mymaster 10.10.10.100 7000 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.890 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":31:35.890 * +slave slave "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v(" @ mymaster "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":32:05.945 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# +sdown slave 10.10.10.100:7000 10.10.10.100 7000 @ mymaster 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1839")]),s._v(":X "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 00:09:03.798 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -sdown slave 10.10.10.100:7000 10.10.10.100 7000 @ mymaster 10.10.10.100 7001")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis-5.0.7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br")])]),a("div",{staticClass:"language-py line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-py"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" redis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sentinel "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Sentinel\nsentinel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27001")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27002")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" socket_timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discover_master"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mymaster'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ('10.10.10.100', 7001)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sentinel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discover_slaves"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mymaster'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("`\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [('10.10.10.100', 7002), ('10.10.10.100', 7000)]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("Valine")],1)}),[],!1,null,null,null);t.default=e.exports}}]);