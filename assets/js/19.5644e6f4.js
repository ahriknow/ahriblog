(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{237:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"本页目录"}},[t._v("本页目录")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#本页目录"}},[t._v("本页目录")])]),a("li",[a("a",{attrs:{href:"#镜像命令"}},[t._v("镜像命令")]),a("ul",[a("li",[a("a",{attrs:{href:"#查找镜像"}},[t._v("查找镜像")])]),a("li",[a("a",{attrs:{href:"#下载镜像"}},[t._v("下载镜像")])]),a("li",[a("a",{attrs:{href:"#上传镜像"}},[t._v("上传镜像")])]),a("li",[a("a",{attrs:{href:"#查看镜像"}},[t._v("查看镜像")])]),a("li",[a("a",{attrs:{href:"#删除镜像"}},[t._v("删除镜像")])])])])])]),a("p"),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("h4",{attrs:{id:"非-root-用户-请添加-sudo"}},[t._v("非 root 用户 请添加 sudo")])]),t._v(" "),a("h2",{attrs:{id:"镜像命令"}},[t._v("镜像命令")]),t._v(" "),a("h3",{attrs:{id:"查找镜像"}},[t._v("查找镜像")]),t._v(" "),a("p",[t._v("从 Docker Hub 查找，从加速地址下载 "),a("code",[t._v("docker search [OPTIONS] [NAME]")])]),t._v(" "),a("ul",[a("li",[t._v("--no-trunc 显示完整的镜像描述")]),t._v(" "),a("li",[t._v("--filter=stars=N 列出收藏数不小于指定数的镜像")]),t._v(" "),a("li",[t._v("--filter=is-automated=true|false 是否只列出 automated build 类型的镜像")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker search --filter=stars=100 centos")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 镜像名                  描述                                             收藏                官方                自动构建")]),t._v("\nNAME                      DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\ncentos                    The official build of CentOS.                   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5737")]),t._v("                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nansible/centos7-ansible   Ansible on Centos7                              "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("126")]),t._v("                                     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\njdeathe/centos-ssh        OpenSSH / Supervisor / EPEL/IUS/SCL Repos - …   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("114")]),t._v("                                     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nconsol/centos-xfce-vnc    Centos container with "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"headless"')]),t._v(" VNC session…   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("101")]),t._v("                                     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n")])])]),a("h3",{attrs:{id:"下载镜像"}},[t._v("下载镜像")]),t._v(" "),a("p",[t._v("默认 TAG 为 latest "),a("code",[t._v("docker pull [NAME][:TAG]")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker pull nginx")]),t._v("\nUsing default tag: latest\nlatest: Pulling from library/nginx\n000eee12ec04: Pull complete\neb22865337de: Pull complete\nbee5d581ef8b: Pull complete\nDigest: sha256:50cf965a6e08ec5784009d0fccb380fc479826b6e0e65684d9879170a9df8566\nStatus: Downloaded newer image "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" nginx:latest\ndocker.io/library/nginx:latest\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n")])])]),a("h3",{attrs:{id:"上传镜像"}},[t._v("上传镜像")]),t._v(" "),a("p",[t._v("待续...")]),t._v(" "),a("h3",{attrs:{id:"查看镜像"}},[t._v("查看镜像")]),t._v(" "),a("p",[t._v("显示所有本地镜像 "),a("code",[t._v("docker images [OPTIONS]")])]),t._v(" "),a("ul",[a("li",[t._v("-a 列出本地所有镜像(含中间镜像层)")]),t._v(" "),a("li",[t._v("-q 只显示 ID")]),t._v(" "),a("li",[t._v("--digests 显示镜像的摘要信息")]),t._v(" "),a("li",[t._v("--no-trunc 显示完整的镜像信息")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker images # 或 docker image ls")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#   仓库源          标签                 镜像 ID             创建时间             大小")]),t._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nnginx               latest              231d40e811cd        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" weeks ago         126MB\ncentos              latest              0f3e07c0138f        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" months ago        220MB\nhello-world         latest              fce289e99eb9        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" months ago       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".84kB\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker images -q")]),t._v("\n231d40e811cd\n0f3e07c0138f\nfce289e99eb9\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker images -a --no-trunc")]),t._v("\nREPOSITORY          TAG                 IMAGE ID                                                                  CREATED             SIZE\nnginx               latest              sha256:231d40e811cd970168fb0c4770f2161aa30b9ba6fe8e68527504df69643aa145   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" weeks ago         126MB\ncentos              latest              sha256:0f3e07c0138fbe05abcb7a9cc7d63d9bd4c980c3f61fea5efa32e7c4217ef4da   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" months ago        220MB\nhello-world         latest              sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" months ago       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".84kB\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker images -a --digests")]),t._v("\nREPOSITORY          TAG                 DIGEST                                                                    IMAGE ID            CREATED             SIZE\nnginx               latest              sha256:50cf965a6e08ec5784009d0fccb380fc479826b6e0e65684d9879170a9df8566   231d40e811cd        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" weeks ago         126MB\ncentos              latest              sha256:f94c1d992c193b3dc09e297ffd54d8a4f1dc946c37cbeceb26d35ce1647f88d9   0f3e07c0138f        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" months ago        220MB\nhello-world         latest              sha256:4fe721ccc2e8dc7362278a29dc660d833570ec2682f4e4194f4ee23e415e1064   fce289e99eb9        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" months ago       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".84kB\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n")])])]),a("h3",{attrs:{id:"删除镜像"}},[t._v("删除镜像")]),t._v(" "),a("p",[t._v("默认 TAG 为 latest")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker rmi [OPTIONS] \\\n[IMAGE_1_NAME|IMAGE_1_ID][:IMAGE_1_TAG] \\\n[IMAGE_2_NAME|IMAGE_2_ID][:IMAGE_2_TAG]\n")])])]),a("ul",[a("li",[t._v("-f 强制删除")])]),t._v(" "),a("p",[t._v("删除所有镜像 "),a("code",[t._v("docker rmi $(docker images -qa)")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rmi hello-world # 或  docker rmi fce289e99eb9")]),t._v("\nUntagged: hello-world:latest\nUntagged: hello-world@sha256:4fe721ccc2e8dc7362278a29dc660d833570ec2682f4e4194f4ee23e415e1064\nDeleted: sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e\nDeleted: sha256:af0b15c8625bb1938f1d7b17081031f649fd14e6b233688eea3c5483994a66a3\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -------------------------#")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker rmi hello-world")]),t._v("\nError response from daemon: conflict: unable to remove repository reference "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello-world"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("must force"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - container 1bf5e11990ae is using its referenced image fce289e99eb9\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 有容器基于此镜像创建的，添加 -f 参数强制删除 docker rmi -f hello-world")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n")])])]),a("Valine")],1)}),[],!1,null,null,null);s.default=n.exports}}]);