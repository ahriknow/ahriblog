(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{299:function(s,t,a){s.exports=a.p+"assets/img/rediscluster.5e0c43e7.png"},360:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"本页目录"}},[s._v("本页目录")]),s._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#本页目录"}},[s._v("本页目录")])]),n("li",[n("a",{attrs:{href:"#redis-集群"}},[s._v("Redis 集群")])]),n("li",[n("a",{attrs:{href:"#搭建-redis-集群"}},[s._v("搭建 Redis 集群")]),n("ul",[n("li",[n("a",{attrs:{href:"#原生搭建-简单介绍"}},[s._v("原生搭建(简单介绍)")])]),n("li",[n("a",{attrs:{href:"#redis-工具搭建"}},[s._v("redis 工具搭建")])]),n("li",[n("a",{attrs:{href:"#查看集群信息"}},[s._v("查看集群信息")])])])]),n("li",[n("a",{attrs:{href:"#python3-连接"}},[s._v("Python3 连接")])]),n("li",[n("a",{attrs:{href:"#横向扩容"}},[s._v("横向扩容")]),n("ul",[n("li",[n("a",{attrs:{href:"#启动新节点"}},[s._v("启动新节点")])]),n("li",[n("a",{attrs:{href:"#添加到新节点集群"}},[s._v("添加到新节点集群")])])])]),n("li",[n("a",{attrs:{href:"#高可用测试"}},[s._v("高可用测试")])])])]),n("p"),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("h4",{attrs:{id:"非-root-用户-请添加-sudo"}},[s._v("非 root 用户 请添加 sudo")])]),s._v(" "),n("h2",{attrs:{id:"redis-集群"}},[s._v("Redis 集群")]),s._v(" "),n("blockquote",[n("p",[s._v("通过集群，Redis 解决了写操作无法负载均衡，以及存储能力受单机限制的问题，实现了较为完善的高可用。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(299),alt:"Redis Cluster"}})]),s._v(" "),n("h2",{attrs:{id:"搭建-redis-集群"}},[s._v("搭建 Redis 集群")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pwd")]),s._v("\n/root/redis\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls redis-5.0.7")]),s._v("\n00-RELEASENOTES  CONTRIBUTING  deps     Makefile   README.md   runtest          runtest-moduleapi  sentinel.conf  tests\nBUGS             COPYING       INSTALL  MANIFESTO  redis.conf  runtest-cluster  runtest-sentinel   src            utils\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir redis7000 # 0 - 7")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nredis-5.0.7  redis-5.0.7.tar.gz  redis7000  redis7001  redis7002  redis7003  redis7004  redis7005  redis7006  redis7007\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp redis-5.0.7/redis.conf ./redis7000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd redis7000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis7000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim redis.conf")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h4",{attrs:{id:"更改配置文件"}},[s._v("更改配置文件")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("bind")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100\n\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为")]),s._v("\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),s._v("\n\ndaemonize no\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为")]),s._v("\ndaemonize "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\npidfile /var/run/redis_6379.pid\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为")]),s._v("\npidfile /var/run/redis_7000.pid\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" ./\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /root/redis/redis7000\n\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消注释")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cluster-config-file nodes-6379.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为")]),s._v("\ncluster-config-file nodes-7000.conf\n\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消注释")]),s._v("\ncluster-replica-validity-factor "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消注释")]),s._v("\ncluster-migration-barrier "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消注释")]),s._v("\ncluster-require-full-coverage "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消注释 - 有 node 宕机，集群是否仍可用(yes 允许数据丢失)")]),s._v("\ncluster-replica-no-failover no "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消注释")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h4",{attrs:{id:"更改其他实例配置文件"}},[s._v("更改其他实例配置文件")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nredis-5.0.7  redis-5.0.7.tar.gz  redis7000  redis7001  redis7002  redis7003  redis7004  redis7005  redis7006  redis7007\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed 's/7000/7001/g' redis7000/redis.conf > redis7001/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed 's/7000/7002/g' redis7000/redis.conf > redis7002/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed 's/7000/7003/g' redis7000/redis.conf > redis7003/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed 's/7000/7004/g' redis7000/redis.conf > redis7004/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed 's/7000/7005/g' redis7000/redis.conf > redis7005/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed 's/7000/7006/g' redis7000/redis.conf > redis7006/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed 's/7000/7007/g' redis7000/redis.conf > redis7007/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h4",{attrs:{id:"启动集群的每个实例"}},[s._v("启动集群的每个实例")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nredis-5.0.7  redis-5.0.7.tar.gz  redis7000  redis7001  redis7002  redis7003  redis7004  redis7005  redis7006  redis7007\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-server ./redis7000/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6372")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:06.225 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6372")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:06.225 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=6372, just started")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6372")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:06.225 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-server ./redis7001/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6377")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:11.147 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6377")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:11.147 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=6377, just started")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6377")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:11.147 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-server ./redis7002/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6382")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:15.048 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6382")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:15.048 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=6382, just started")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6382")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:15.048 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-server ./redis7003/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6387")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:19.337 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6387")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:19.337 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=6387, just started")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6387")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:19.337 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-server ./redis7004/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6392")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:22.591 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6392")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:22.591 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=6392, just started")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6392")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:22.591 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-server ./redis7005/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6397")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:26.749 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6397")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:26.749 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=6397, just started")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6397")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 01:05:26.749 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -ntlp")]),s._v("\nActive Internet connections "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("only servers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6373")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6378")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:25            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1271")]),s._v("/master\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6383")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6388")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6393")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6398")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17000       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6373")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17001       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6378")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17002       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6383")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17003       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6388")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17004       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6393")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17005       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6398")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:22              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1112")]),s._v("/sshd\ntcp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ::1:25                  :::*                    LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1271")]),s._v("/master\ntcp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::22                   :::*                    LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1112")]),s._v("/sshd\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -ef | grep redis")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6373")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:00 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6378")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:00 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6383")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:00 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6388")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:00 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6393")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:00 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6398")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:00 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6405")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1849")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:10 pts/3    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" --color"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto redis\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br")])]),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"custom-block-title"},[s._v("不能直接使用单个实例")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7000 -c")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" hello world\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" CLUSTERDOWN Hash slot not served\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])]),s._v(" "),n("h3",{attrs:{id:"原生搭建-简单介绍"}},[s._v("原生搭建(简单介绍)")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("cluster meet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ip"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 node")]),s._v("\ncluster addslots "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("slot"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指派槽")]),s._v("\ncluster replicate "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("node-id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分配主从")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"redis-工具搭建"}},[s._v("redis 工具搭建")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli \\")]),s._v("\n                        --cluster create "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                        --cluster-replicas "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每个 master 附带 slave 的个数")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认 前三个(7000 7001 7002) 是 master")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Performing "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" slots allocation on "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" nodes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nMaster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" -"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Slots "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5460")]),s._v("\nMaster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" -"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Slots "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10922")]),s._v("\nMaster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" -"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Slots "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16383")]),s._v("\nAdding replica "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004 to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000\nAdding replica "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005 to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001\nAdding replica "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003 to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Trying to optimize slaves allocation "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" anti-affinity\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("WARNING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Some slaves are "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" the same "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" as their master\nM: b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\nM: 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5462")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\nM: eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\nS: 895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003\n   replicates b56300a378a771ef6f4a2f0e0d1a5972c81830de\nS: 2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004\n   replicates 0c09eadc3459a1ddca545152c6546b30e5158046\nS: 9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005\n   replicates eea59e6b67de7864dbf10776214906916a60c69c\nCan I "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" the above configuration? "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'yes'")]),s._v(" to accept"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Nodes configuration updated\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Assign a different config epoch to each node\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Sending CLUSTER MEET messages to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" the cluster\nWaiting "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the cluster to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Performing Cluster Check "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("using node "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nM: b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nM: eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nS: 895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates b56300a378a771ef6f4a2f0e0d1a5972c81830de\nS: 2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates 0c09eadc3459a1ddca545152c6546b30e5158046\nS: 9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates eea59e6b67de7864dbf10776214906916a60c69c\nM: 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5462")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" All nodes agree about slots configuration.\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Check "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Check slots coverage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" All "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16384")]),s._v(" slots covered.\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br")])]),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"custom-block-title"},[s._v("普通客户端登陆")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" hello ahri "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hello 槽位是 866 属于这个 node，可以 set")]),s._v("\nOK\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" k1 v1 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# k1 槽位是 12706 不属于这个 node，不能 set")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" MOVED "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12706")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("集群客户端登陆")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7000 -c")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" k1 v1\n-"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Redirected to slot "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12706")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" located at "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自动重定向到 7002 的 node")]),s._v("\nOK\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" get hello\n-"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Redirected to slot "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("866")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" located at "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自动重定向到 7000 的 node")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ahri"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])]),s._v(" "),n("h3",{attrs:{id:"查看集群信息"}},[s._v("查看集群信息")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7000 -c")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" cluster nodes\neea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002@17002 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577773930847")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383\n895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003@17003 slave b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577773930000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" connected\n2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004@17004 slave 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577773929000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" connected\nb56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000@17000 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577773929000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460\n9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005@17005 slave eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577773929839")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" connected\n0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001@17001 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577773929000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h2",{attrs:{id:"python3-连接"}},[s._v("Python3 连接")]),s._v(" "),n("div",{staticClass:"language-py line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-py"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rediscluster "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" StrictRedisCluster\n\nredis_nodes "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'host'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'port'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'host'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'port'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'host'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'port'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'host'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'port'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7003")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'host'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'port'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7004")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'host'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10.10.10.100'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'port'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7005")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nredisconn "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" StrictRedisCluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("startup_nodes"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("redis_nodes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" decode_responses"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("redisconn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ahri")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h2",{attrs:{id:"横向扩容"}},[s._v("横向扩容")]),s._v(" "),n("h3",{attrs:{id:"启动新节点"}},[s._v("启动新节点")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-server ./redis7006/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6628")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 02:04:50.117 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6628")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 02:04:50.117 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=6628, just started")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6628")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 02:04:50.117 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-server ./redis7007/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6633")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 02:04:54.420 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6633")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 02:04:54.420 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=6633, just started")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6633")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 02:04:54.420 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -ef | grep redis")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6373")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:07 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6378")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:07 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6383")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:07 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6388")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:07 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6393")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:07 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6398")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 01:05 ?        00:00:07 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6629")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 02:04 ?        00:00:00 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6634")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 02:04 ?        00:00:00 ./redis-5.0.7/src/redis-server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6639")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1849")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 02:04 pts/3    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" --color"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto redis\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7006 -c")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("6")]),s._v(">")]),s._v(" cluster nodes\n3749b46bc60d39500fbb0c46c8ffd0a2971ad17e :7006@17006 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" connected\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("6")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("h3",{attrs:{id:"添加到新节点集群"}},[s._v("添加到新节点集群")]),s._v(" "),n("h4",{attrs:{id:"添加到集群默认为-master"}},[s._v("添加到集群默认为 master")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli --cluster add-node 10.10.10.100:7006 10.10.10.100:7000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Adding node "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006 to cluster "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Performing Cluster Check "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("using node "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nM: b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nM: eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nS: 895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates b56300a378a771ef6f4a2f0e0d1a5972c81830de\nS: 2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates 0c09eadc3459a1ddca545152c6546b30e5158046\nS: 9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates eea59e6b67de7864dbf10776214906916a60c69c\nM: 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5462")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" All nodes agree about slots configuration.\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Check "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Check slots coverage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" All "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16384")]),s._v(" slots covered.\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Send CLUSTER MEET to node "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006 to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" it "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" the cluster.\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" New node added correctly.\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" cluster nodes\neea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002@17002 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776267000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383\n895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003@17003 slave b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776264000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" connected\n2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004@17004 slave 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776267000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" connected\nb56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000@17000 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776266000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460\n9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005@17005 slave eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776268487")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" connected\n3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006@17006 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776265464")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" connected\n0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001@17001 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776267479")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])]),n("h4",{attrs:{id:"以-slave-身份添加到集群"}},[s._v("以 slave 身份添加到集群")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli --cluster add-node 10.10.10.100:7007 10.10.10.100:7000 --cluster-slave --cluster-master-id 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Adding node "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007 to cluster "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Performing Cluster Check "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("using node "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nM: b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nM: eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nS: 895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates b56300a378a771ef6f4a2f0e0d1a5972c81830de\nS: 2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates 0c09eadc3459a1ddca545152c6546b30e5158046\nS: 9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates eea59e6b67de7864dbf10776214906916a60c69c\nM: 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\nM: 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5462")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" All nodes agree about slots configuration.\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Check "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Check slots coverage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" All "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16384")]),s._v(" slots covered.\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Send CLUSTER MEET to node "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007 to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" it "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" the cluster.\nWaiting "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the cluster to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Configure node as replica of "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006.\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" New node added correctly.\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" cluster nodes\neea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002@17002 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776429766")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383\ne994a59926e2d1590ee62bb662428ca3efab8df4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007@17007 slave 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776427000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" connected\n895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003@17003 slave b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776431000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" connected\n2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004@17004 slave 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776427000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" connected\nb56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000@17000 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776425000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460\n9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005@17005 slave eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776428759")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" connected\n3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006@17006 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776430774")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" connected\n0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001@17001 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577776431780")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br")])]),n("h4",{attrs:{id:"给新节点分配槽"}},[s._v("给新节点分配槽")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli --cluster reshard 10.10.10.100:7000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Performing Cluster Check "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("using node "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nM: b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nM: eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nS: e994a59926e2d1590ee62bb662428ca3efab8df4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e\nS: 895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates b56300a378a771ef6f4a2f0e0d1a5972c81830de\nS: 2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates 0c09eadc3459a1ddca545152c6546b30e5158046\nS: 9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" slave\n   replicates eea59e6b67de7864dbf10776214906916a60c69c\nM: 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006\n   slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nM: 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001\n   slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5462")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" All nodes agree about slots configuration.\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Check "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Check slots coverage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" All "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16384")]),s._v(" slots covered.\nHow many slots "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" you want to move "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("from "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16384")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("? "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6000")]),s._v("\nWhat is the receiving node ID? 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e\nPlease enter all the "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" node IDs.\n  Type "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'all'")]),s._v(" to use all the nodes as "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" nodes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" slots.\n  Type "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'done'")]),s._v(" once you entered all the "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" nodes IDs.\nSource node "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1: b56300a378a771ef6f4a2f0e0d1a5972c81830de")]),s._v("\nSource node "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2: 0c09eadc3459a1ddca545152c6546b30e5158046")]),s._v("\nSource node "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3: eea59e6b67de7864dbf10776214906916a60c69c")]),s._v("\nSource node "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4: done")]),s._v("\n\nReady to move "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6000")]),s._v(" slots.\n  Source nodes:\n    M: b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000\n       slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5460"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    M: 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001\n       slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-10922"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5462")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    M: eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002\n       slots:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-16383"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Destination node:\n    M: 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006\n       slots: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" slots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" master\n       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" additional replica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Resharding plan:\n    Moving slot "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" from 0c09eadc3459a1ddca545152c6546b30e5158046\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n    Moving slot "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12921")]),s._v(" from eea59e6b67de7864dbf10776214906916a60c69c\nDo you want to proceed with the proposed reshard plan "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("yes/no"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("? "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nMoving slot "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v(" from "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001 to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006:\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nMoving slot "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12921")]),s._v(" from "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002 to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006:\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" cluster nodes\neea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002@17002 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777002000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12922")]),s._v("-16383\ne994a59926e2d1590ee62bb662428ca3efab8df4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007@17007 slave 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777004000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" connected\n895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003@17003 slave b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777001000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" connected\n2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004@17004 slave 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777002099")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" connected\nb56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000@17000 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777000000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1999")]),s._v("-5460\n9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005@17005 slave eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777005121")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" connected\n3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006@17006 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777003106")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-1998 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-7461 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-12921\n0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001@17001 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777004113")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7462")]),s._v("-10922\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br")])]),n("h2",{attrs:{id:"高可用测试"}},[s._v("高可用测试")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat -ntlp")]),s._v("\nActive Internet connections "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("only servers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6373")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6378")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:25            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1271")]),s._v("/master\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6383")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6388")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6393")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6398")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6629")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6634")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17000       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6373")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17001       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6378")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17002       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6383")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17003       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6388")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17004       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6393")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17005       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6398")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17006       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6629")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:17007       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6634")]),s._v("/./redis-5.0.7/\ntcp        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:22              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:*               LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1112")]),s._v("/sshd\ntcp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ::1:25                  :::*                    LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1271")]),s._v("/master\ntcp6       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::22                   :::*                    LISTEN      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1112")]),s._v("/sshd\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kill -9 6373")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7001")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" cluster nodes\n895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003@17003 slave b56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777093756")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" connected\ne994a59926e2d1590ee62bb662428ca3efab8df4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007@17007 slave 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777094768")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" connected\neea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002@17002 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777091732")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12922")]),s._v("-16383\n9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005@17005 slave eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777092746")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" connected\n0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001@17001 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777090000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7462")]),s._v("-10922\nb56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000@17000 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777080413")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777078000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" disconnected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1999")]),s._v("-5460\n2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004@17004 slave 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777091000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" connected\n3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006@17006 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777092000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-1998 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-7461 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-12921\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 稍等")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" cluster nodes\n895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003@17003 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777396000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1999")]),s._v("-5460\ne994a59926e2d1590ee62bb662428ca3efab8df4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007@17007 slave 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777393000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" connected\neea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002@17002 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777396464")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12922")]),s._v("-16383\n9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005@17005 slave eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777395000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" connected\n0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001@17001 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777390000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7462")]),s._v("-10922\nb56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000@17000 master,fail - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777376861")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777373000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" disconnected\n2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004@17004 slave 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777394000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" connected\n3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006@17006 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777395000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-1998 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-7461 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-12921\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-server ./redis7000/redis.conf")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6664")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 02:25:25.796 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6664")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 02:25:25.796 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=6664, just started")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6664")]),s._v(":C "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" Dec "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 02:25:25.796 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configuration loaded")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./redis-5.0.7/src/redis-cli -h 10.10.10.100 -p 7001")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" cluster nodes\n895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7003@17003 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777127113")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1999")]),s._v("-5460\ne994a59926e2d1590ee62bb662428ca3efab8df4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7007@17007 slave 3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777129128")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" connected\neea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7002@17002 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777126000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12922")]),s._v("-16383\n9a48630396f274b5154bef4c340ab4956a9a9613 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7005@17005 slave eea59e6b67de7864dbf10776214906916a60c69c "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777125095")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" connected\n0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7001@17001 myself,master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777126000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7462")]),s._v("-10922\nb56300a378a771ef6f4a2f0e0d1a5972c81830de "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7000@17000 slave 895ed0fda9be28a642180f98e83d58b7b6c2f5b4 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777125804")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" connected\n2e1f5cc3cc7a272174b806456511933bd1325bb2 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7004@17004 slave 0c09eadc3459a1ddca545152c6546b30e5158046 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777125000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" connected\n3749b46bc60d39500fbb0c46c8ffd0a2971ad17e "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:7006@17006 master - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1577777128120")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" connected "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-1998 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5461")]),s._v("-7461 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10923")]),s._v("-12921\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.100:700"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br")])]),n("Valine")],1)}),[],!1,null,null,null);t.default=e.exports}}]);