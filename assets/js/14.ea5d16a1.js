(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{230:function(t,s,e){"use strict";e.r(s);var n=e(2),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"本页目录"}},[t._v("本页目录")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#本页目录"}},[t._v("本页目录")])]),e("li",[e("a",{attrs:{href:"#官方文档"}},[t._v("官方文档")])]),e("li",[e("a",{attrs:{href:"#安装-docker-ce（社区版-免费）"}},[t._v("安装 Docker-CE（社区版 免费）")]),e("ul",[e("li",[e("a",{attrs:{href:"#卸载老版本的-docker（未安装过忽略）"}},[t._v("卸载老版本的 Docker（未安装过忽略）")])]),e("li",[e("a",{attrs:{href:"#安装-工具-和-依赖"}},[t._v("安装 工具 和 依赖")])]),e("li",[e("a",{attrs:{href:"#添加官方源"}},[t._v("添加官方源")])]),e("li",[e("a",{attrs:{href:"#安装-docker-ce-版引擎"}},[t._v("安装 Docker-CE 版引擎")])]),e("li",[e("a",{attrs:{href:"#管理-服务"}},[t._v("管理 服务")])]),e("li",[e("a",{attrs:{href:"#查看信息"}},[t._v("查看信息")])]),e("li",[e("a",{attrs:{href:"#永远的-hello-world"}},[t._v("永远的 hello, world")])]),e("li",[e("a",{attrs:{href:"#根据情况更换-docker-仓库地址"}},[t._v("根据情况更换 Docker 仓库地址")])])])])])]),e("p"),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("h4",{attrs:{id:"非-root-用户-请添加-sudo"}},[t._v("非 root 用户 请添加 sudo")])]),t._v(" "),e("h2",{attrs:{id:"官方文档"}},[t._v("官方文档")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://docs.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker 文档"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/centos/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CentOS7 安装 Docker 文档"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"安装-docker-ce（社区版-免费）"}},[t._v("安装 Docker-CE（社区版 免费）")]),t._v(" "),e("h3",{attrs:{id:"卸载老版本的-docker（未安装过忽略）"}},[t._v("卸载老版本的 Docker（未安装过忽略）")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("yum remove docker "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n            docker-client "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n            docker-client-latest "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n            docker-common "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n            docker-latest "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n            docker-latest-logrotate "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n            docker-logrotate "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n            docker-engine\n")])])]),e("h3",{attrs:{id:"安装-工具-和-依赖"}},[t._v("安装 工具 和 依赖")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y yum-utils "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n                device-mapper-persistent-data "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n                lvm2\n")])])]),e("h3",{attrs:{id:"添加官方源"}},[t._v("添加官方源")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("yum-config-manager "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --add-repo "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    https://download.docker.com/linux/centos/docker-ce.repo\n")])])]),e("h3",{attrs:{id:"安装-docker-ce-版引擎"}},[t._v("安装 Docker-CE 版引擎")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y docker-ce\n")])])]),e("h3",{attrs:{id:"管理-服务"}},[t._v("管理 服务")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("systemctl start docker "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动")]),t._v("\nsystemctl restart docker "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启")]),t._v("\nsystemctl stop docker "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止")]),t._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" docker "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置开机启动")]),t._v("\nsystemctl disable docker "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取消开机启动")]),t._v("\n")])])]),e("h3",{attrs:{id:"查看信息"}},[t._v("查看信息")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker -v")]),t._v("\nDocker version "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.03")]),t._v(".5, build 633a0ea\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker version")]),t._v("\nClient: Docker Engine - Community\n Version:           "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.03")]),t._v(".5\n API version:       "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.40")]),t._v("\n Go version:        go1.12.12\n Git commit:        633a0ea\n Built:             Wed Nov "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" 07:25:41 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("\n OS/Arch:           linux/amd64\n Experimental:      "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\nServer: Docker Engine - Community\n Engine:\n  Version:          "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.03")]),t._v(".5\n  API version:      "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.40")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("minimum version "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.12")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  Go version:       go1.12.12\n  Git commit:       633a0ea\n  Built:            Wed Nov "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" 07:24:18 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("\n  OS/Arch:          linux/amd64\n  Experimental:     "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n containerd:\n  Version:          "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),t._v(".10\n  GitCommit:        b34a5c8af56e510852c35414db4c1f4fa6172339\n runc:\n  Version:          "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),t._v(".0-rc8+dev\n  GitCommit:        3e425f80a8c931f88e6d94a8c831b9d5aa481657\n docker-init:\n  Version:          "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.18")]),t._v(".0\n  GitCommit:        fec3683\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker info")]),t._v("\nClient:\n Debug Mode: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\nServer:\n Containers: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  Running: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  Paused: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  Stopped: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n Images: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n Server Version: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.03")]),t._v(".5\n Storage Driver: overlay2\n  Backing Filesystem: xfs\n  Supports d_type: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  Native Overlay Diff: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n Logging Driver: json-file\n Cgroup Driver: cgroupfs\n Plugins:\n  Volume: "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v("\n  Network: bridge "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" ipvlan macvlan null overlay\n  Log: awslogs fluentd gcplogs gelf journald json-file "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" logentries splunk syslog\n Swarm: inactive\n Runtimes: runc\n Default Runtime: runc\n Init Binary: docker-init\n containerd version: b34a5c8af56e510852c35414db4c1f4fa6172339\n runc version: 3e425f80a8c931f88e6d94a8c831b9d5aa481657\n init version: fec3683\n Security Options:\n  seccomp\n   Profile: default\n Kernel Version: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.10")]),t._v(".0-1062.el7.x86_64\n Operating System: CentOS Linux "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Core"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n OSType: linux\n Architecture: x86_64\n CPUs: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n Total Memory: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("972")]),t._v(".4MiB\n Name: localhost.localdomain\n ID: 6SWH:DBLE:DVNT:3VRU:JDQA:2CR3:2FOB:JQOY:5B3I:YZ6T:GT42:XAKG\n Docker Root Dir: /var/lib/docker\n Debug Mode: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n Registry: https://index.docker.io/v1/\n Labels:\n Experimental: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n Insecure Registries:\n  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.0/8\n Live Restore Enabled: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n")])])]),e("h3",{attrs:{id:"永远的-hello-world"}},[t._v("永远的 "),e("code",[t._v("hello, world")])]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker run hello-world")]),t._v("\nUnable to "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" image "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello-world:latest'")]),t._v(" locally "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 本地没有 hello-world:latest 镜像")]),t._v("\nlatest: Pulling from library/hello-world "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从仓库拉取镜像 (默认最新 latest)")]),t._v("\n1b930d010525: Pull complete "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拉取完成")]),t._v("\nDigest: sha256:4fe721ccc2e8dc7362278a29dc660d833570ec2682f4e4194f4ee23e415e1064 "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sha256")]),t._v("\nStatus: Downloaded newer image "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" hello-world:latest "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 操作状态")]),t._v("\n\nHello from Docker"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(". The Docker client contacted the Docker daemon.\n "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(". The Docker daemon pulled the "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello-world"')]),t._v(" image from the Docker Hub.\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("amd64"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(". The Docker daemon created a new container from that image "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" runs the\n    executable that produces the output you are currently reading.\n "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(". The Docker daemon streamed that output to the Docker client, "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" sent it\n    to your terminal.\n\nTo try something "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n\nShare images, automate workflows, and "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" with a "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" Docker ID:\n https://hub.docker.com/\n\nFor "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" examples and ideas, visit:\n https://docs.docker.com/get-started/\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n")])])]),e("h3",{attrs:{id:"根据情况更换-docker-仓库地址"}},[t._v("根据情况更换 Docker 仓库地址")]),t._v(" "),e("h4",{attrs:{id:"设置阿里云加速"}},[t._v("设置阿里云加速")]),t._v(" "),e("p",[t._v("到 "),e("a",{attrs:{href:"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里云"),e("OutboundLink")],1),t._v(" 注册账号获取加速地址")]),t._v(" "),e("p",[t._v("修改daemon配置文件/etc/docker/daemon.json来使用加速器")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p /etc/docker\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" /etc/docker/daemon.json "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<-")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'EOF\'\n{\n  "registry-mirrors": ["加速地址"]\n}\nEOF')]),t._v("\nsystemctl daemon-reload\nsystemctl restart docker\n")])])]),e("h5",{attrs:{id:"或"}},[t._v("或")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p /etc/docker\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/docker/daemon.json\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按 i 编辑，输入 ↓")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"registry-mirrors"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"加速地址"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输入 :wq 保存退出")]),t._v("\nsystemctl daemon-reload\nsystemctl restart docker\n")])])]),e("h4",{attrs:{id:"查看加速地址"}},[t._v("查看加速地址")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("docker info\n")])])]),e("h4",{attrs:{id:"其他加速地址"}},[t._v("其他加速地址")]),t._v(" "),e("ul",[e("li",[t._v("docker官网中国区镜像"),e("br"),t._v("\nhttps://registry.docker-cn.com")]),t._v(" "),e("li",[t._v("网易163 docker镜像"),e("br"),t._v("\nhttp://hub-mirror.c.163.com")]),t._v(" "),e("li",[t._v("USTC镜像加速"),e("br"),t._v("\nhttps://docker.mirrors.ustc.edu.cn")]),t._v(" "),e("li",[t._v("daocloud镜像 需注册"),e("br"),t._v("\nhttp://{your_id}.m.daocloud.io")])]),t._v(" "),e("Valine")],1)}),[],!1,null,null,null);s.default=a.exports}}]);