(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{291:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"本页目录"}},[s._v("本页目录")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#本页目录"}},[s._v("本页目录")])]),t("li",[t("a",{attrs:{href:"#镜像命令"}},[s._v("镜像命令")]),t("ul",[t("li",[t("a",{attrs:{href:"#查找镜像"}},[s._v("查找镜像")])]),t("li",[t("a",{attrs:{href:"#下载镜像"}},[s._v("下载镜像")])]),t("li",[t("a",{attrs:{href:"#上传镜像"}},[s._v("上传镜像")])]),t("li",[t("a",{attrs:{href:"#查看镜像"}},[s._v("查看镜像")])]),t("li",[t("a",{attrs:{href:"#删除镜像"}},[s._v("删除镜像")])])])])])]),t("p"),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("h4",{attrs:{id:"非-root-用户-请添加-sudo"}},[s._v("非 root 用户 请添加 sudo")])]),s._v(" "),t("h2",{attrs:{id:"镜像命令"}},[s._v("镜像命令")]),s._v(" "),t("h3",{attrs:{id:"查找镜像"}},[s._v("查找镜像")]),s._v(" "),t("p",[s._v("从 Docker Hub 查找，从加速地址下载 "),t("code",[s._v("docker search [OPTIONS] [NAME]")])]),s._v(" "),t("ul",[t("li",[s._v("--no-trunc 显示完整的镜像描述")]),s._v(" "),t("li",[s._v("--filter=stars=N 列出收藏数不小于指定数的镜像")]),s._v(" "),t("li",[s._v("--filter=is-automated=true|false 是否只列出 automated build 类型的镜像")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker search --filter=stars=100 centos")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 镜像名                  描述                                             收藏                官方                自动构建")]),s._v("\nNAME                      DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\ncentos                    The official build of CentOS.                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5737")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nansible/centos7-ansible   Ansible on Centos7                              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("126")]),s._v("                                     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\njdeathe/centos-ssh        OpenSSH / Supervisor / EPEL/IUS/SCL Repos - …   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("114")]),s._v("                                     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nconsol/centos-xfce-vnc    Centos container with "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"headless"')]),s._v(" VNC session…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v("                                     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"下载镜像"}},[s._v("下载镜像")]),s._v(" "),t("p",[s._v("默认 TAG 为 latest "),t("code",[s._v("docker pull [NAME][:TAG]")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker pull nginx")]),s._v("\nUsing default tag: latest\nlatest: Pulling from library/nginx\n000eee12ec04: Pull complete\neb22865337de: Pull complete\nbee5d581ef8b: Pull complete\nDigest: sha256:50cf965a6e08ec5784009d0fccb380fc479826b6e0e65684d9879170a9df8566\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" nginx:latest\ndocker.io/library/nginx:latest\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"上传镜像"}},[s._v("上传镜像")]),s._v(" "),t("p",[s._v("待续...")]),s._v(" "),t("h3",{attrs:{id:"查看镜像"}},[s._v("查看镜像")]),s._v(" "),t("p",[s._v("显示所有本地镜像 "),t("code",[s._v("docker images [OPTIONS]")])]),s._v(" "),t("ul",[t("li",[s._v("-a 列出本地所有镜像(含中间镜像层)")]),s._v(" "),t("li",[s._v("-q 只显示 ID")]),s._v(" "),t("li",[s._v("--digests 显示镜像的摘要信息")]),s._v(" "),t("li",[s._v("--no-trunc 显示完整的镜像信息")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images # 或 docker image ls")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   仓库源          标签                 镜像 ID             创建时间             大小")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nnginx               latest              231d40e811cd        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         126MB\ncentos              latest              0f3e07c0138f        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago        220MB\nhello-world         latest              fce289e99eb9        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" months ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".84kB\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images -q")]),s._v("\n231d40e811cd\n0f3e07c0138f\nfce289e99eb9\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images -a --no-trunc")]),s._v("\nREPOSITORY          TAG                 IMAGE ID                                                                  CREATED             SIZE\nnginx               latest              sha256:231d40e811cd970168fb0c4770f2161aa30b9ba6fe8e68527504df69643aa145   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         126MB\ncentos              latest              sha256:0f3e07c0138fbe05abcb7a9cc7d63d9bd4c980c3f61fea5efa32e7c4217ef4da   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago        220MB\nhello-world         latest              sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" months ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".84kB\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images -a --digests")]),s._v("\nREPOSITORY          TAG                 DIGEST                                                                    IMAGE ID            CREATED             SIZE\nnginx               latest              sha256:50cf965a6e08ec5784009d0fccb380fc479826b6e0e65684d9879170a9df8566   231d40e811cd        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         126MB\ncentos              latest              sha256:f94c1d992c193b3dc09e297ffd54d8a4f1dc946c37cbeceb26d35ce1647f88d9   0f3e07c0138f        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago        220MB\nhello-world         latest              sha256:4fe721ccc2e8dc7362278a29dc660d833570ec2682f4e4194f4ee23e415e1064   fce289e99eb9        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" months ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".84kB\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h3",{attrs:{id:"删除镜像"}},[s._v("删除镜像")]),s._v(" "),t("p",[s._v("默认 TAG 为 latest")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker rmi [OPTIONS] \\\n[IMAGE_1_NAME|IMAGE_1_ID][:IMAGE_1_TAG] \\\n[IMAGE_2_NAME|IMAGE_2_ID][:IMAGE_2_TAG]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("-f 强制删除")])]),s._v(" "),t("p",[s._v("删除所有镜像 "),t("code",[s._v("docker rmi $(docker images -qa)")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rmi hello-world # 或  docker rmi fce289e99eb9")]),s._v("\nUntagged: hello-world:latest\nUntagged: hello-world@sha256:4fe721ccc2e8dc7362278a29dc660d833570ec2682f4e4194f4ee23e415e1064\nDeleted: sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e\nDeleted: sha256:af0b15c8625bb1938f1d7b17081031f649fd14e6b233688eea3c5483994a66a3\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------------------------#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rmi hello-world")]),s._v("\nError response from daemon: conflict: unable to remove repository reference "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello-world"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("must force"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" - container 1bf5e11990ae is using its referenced image fce289e99eb9\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 有容器基于此镜像创建的，添加 -f 参数强制删除 docker rmi -f hello-world")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("Valine")],1)}),[],!1,null,null,null);a.default=n.exports}}]);