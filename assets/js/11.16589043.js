(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{225:function(t,r,a){"use strict";a.r(r);var e=a(2),s=Object(e.a)({},(function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"cluster概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster概念"}},[t._v("#")]),t._v(" Cluster概念:")]),t._v(" "),a("h4",{attrs:{id:"系统扩展方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统扩展方式"}},[t._v("#")]),t._v(" 系统扩展方式:")]),t._v(" "),a("ul",[a("li",[t._v("Scale UP: 向上扩展(纵向扩展), 增强")]),t._v(" "),a("li",[t._v("Scale OUT: 向外扩展(横向扩展), 增加设备, 调度分配问题, Cluster")])]),t._v(" "),a("h4",{attrs:{id:"cluster-集群-为解决某个特定问题将多台计算机组合起来形成的单个系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-集群-为解决某个特定问题将多台计算机组合起来形成的单个系统"}},[t._v("#")]),t._v(" Cluster: 集群, 为解决某个特定问题将多台计算机组合起来形成的单个系统")]),t._v(" "),a("h4",{attrs:{id:"linux-cluster类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-cluster类型"}},[t._v("#")]),t._v(" Linux Cluster类型:")]),t._v(" "),a("ul",[a("li",[t._v("LB: Load Balancing, 负载均衡")]),t._v(" "),a("li",[t._v("HA: High Availiablity, 高可用, SPOF(single Point Of failure)\n"),a("ul",[a("li",[t._v("MTBF: Mean Time Between Failure 平均无故障时间")]),t._v(" "),a("li",[t._v("MTTR: Mean Time To Restoration(repair) 平均恢复前时间")]),t._v(" "),a("li",[t._v("A = MTBF / (MTBF + MTTR) (0, 1)")])])]),t._v(" "),a("li",[t._v("HPC: High-performance computing, 高性能, "),a("a",{attrs:{href:"http://www.top500.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.top500.org"),a("OutboundLink")],1)])]),t._v(" "),a("h4",{attrs:{id:"分布式系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分布式系统"}},[t._v("#")]),t._v(" 分布式系统:")]),t._v(" "),a("ul",[a("li",[t._v("分布式存储: 云盘")]),t._v(" "),a("li",[t._v("分布式计算: hadoop, Spark")])]),t._v(" "),a("h2",{attrs:{id:"cluster分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster分类"}},[t._v("#")]),t._v(" Cluster分类:")]),t._v(" "),a("h4",{attrs:{id:"lb-cluster的实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lb-cluster的实现"}},[t._v("#")]),t._v(" LB Cluster的实现")]),t._v(" "),a("h4",{attrs:{id:"硬件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#硬件"}},[t._v("#")]),t._v(" 硬件")]),t._v(" "),a("ul",[a("li",[t._v("F5 Big-IP")]),t._v(" "),a("li",[t._v("Citrix Netscaler")]),t._v(" "),a("li",[t._v("A10 A10")])]),t._v(" "),a("h4",{attrs:{id:"软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#软件"}},[t._v("#")]),t._v(" 软件")]),t._v(" "),a("ul",[a("li",[t._v("lvs: Linux Virtual Server")]),t._v(" "),a("li",[t._v("nginx: 支持七层调度")]),t._v(" "),a("li",[t._v("haproxy: 支持七层调度")]),t._v(" "),a("li",[t._v("ats: apache traffic server, (yahoo捐助)")]),t._v(" "),a("li",[t._v("perlbal: Perl编写的")]),t._v(" "),a("li",[t._v("pound")])]),t._v(" "),a("h4",{attrs:{id:"传输层-通用-dport"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#传输层-通用-dport"}},[t._v("#")]),t._v(" 传输层(通用): DPORT")]),t._v(" "),a("ul",[a("li",[t._v("lvs")]),t._v(" "),a("li",[t._v("nginx: stream")]),t._v(" "),a("li",[t._v("haproxy: mode tcp")])]),t._v(" "),a("h4",{attrs:{id:"应用层-专用-针对特定协议-自定义的请求模型分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用层-专用-针对特定协议-自定义的请求模型分类"}},[t._v("#")]),t._v(" 应用层(专用): 针对特定协议, 自定义的请求模型分类")]),t._v(" "),a("ul",[a("li",[t._v("proxy server:\n"),a("ul",[a("li",[t._v("http: nginx, httpd, haproxy(mode http), ...")]),t._v(" "),a("li",[t._v("fastcgi: nginx, httpd, ...")]),t._v(" "),a("li",[t._v("mysql: mysql-proxy, ...")])])])]),t._v(" "),a("h2",{attrs:{id:"cluster相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster相关"}},[t._v("#")]),t._v(" Cluster相关:")]),t._v(" "),a("h4",{attrs:{id:"会话保持-负载均衡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#会话保持-负载均衡"}},[t._v("#")]),t._v(" 会话保持, 负载均衡")]),t._v(" "),a("ul",[a("li",[t._v("session sticky: 同一用户调度固定服务器\n"),a("ul",[a("li",[t._v("Source IP: LVS sh算法(对某一特定服务而言)")]),t._v(" "),a("li",[t._v("Cookie")])])]),t._v(" "),a("li",[t._v("session replication: 每台服务器拥有全部session\n"),a("ul",[a("li",[t._v("session multicast cluster")])])]),t._v(" "),a("li",[t._v("session server: 专门的session服务器\n"),a("ul",[a("li",[t._v("Memcached, Redis")])])])]),t._v(" "),a("h4",{attrs:{id:"ha集群实现方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ha集群实现方案"}},[t._v("#")]),t._v(" HA集群实现方案")]),t._v(" "),a("ul",[a("li",[t._v("keepalived: vrrp协议")]),t._v(" "),a("li",[t._v("ais: 应用接口范围\n"),a("ul",[a("li",[t._v("heartbeat")]),t._v(" "),a("li",[t._v("cman + rgmanager(RHCS)")]),t._v(" "),a("li",[t._v("coresync_pacemaker")])])])]),t._v(" "),a("h2",{attrs:{id:"lsv介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lsv介绍"}},[t._v("#")]),t._v(" LSV介绍:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ahriknow.oss-cn-beijing.aliyuncs.com/media/abook/lvs.png",alt:"LVS 拓扑图"}})]),t._v(" "),a("h4",{attrs:{id:"lvs-linux-virtual-server-负载调度器-集成内核-章文嵩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lvs-linux-virtual-server-负载调度器-集成内核-章文嵩"}},[t._v("#")]),t._v(" LVS: Linux Virtual Server, 负载调度器, 集成内核 章文嵩")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://www.linuxvirtualserver.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网 http://www.linuxvirtualserver.org/"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("VS: Virtual Server, 负责调度")]),t._v(" "),a("li",[t._v("RS: Real Server, 负责提供服务")]),t._v(" "),a("li",[t._v("L4: 四层路由器或交换机")])]),t._v(" "),a("h4",{attrs:{id:"工作原理-vs根据请求报文的目标ip和目标协议及端口将其调度转发至某rs-根据调度算法来挑选rs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作原理-vs根据请求报文的目标ip和目标协议及端口将其调度转发至某rs-根据调度算法来挑选rs"}},[t._v("#")]),t._v(" 工作原理: VS根据请求报文的目标IP和目标协议及端口将其调度转发至某RS, 根据调度算法来挑选RS")]),t._v(" "),a("h4",{attrs:{id:"iptables-netfilter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iptables-netfilter"}},[t._v("#")]),t._v(" iptables/netfilter:")]),t._v(" "),a("ul",[a("li",[t._v("iptables: 用户空间的管理工具")]),t._v(" "),a("li",[t._v("netfilter: 内核空间上的框架")]),t._v(" "),a("li",[t._v("流入: PREROUTING --\x3e INPUT")]),t._v(" "),a("li",[t._v("流出: OUTPUT --\x3e POSTROUTING")]),t._v(" "),a("li",[t._v("转发: PREROUTING --\x3e FORWARD --\x3e POSTROUTING")]),t._v(" "),a("li",[t._v("DNAT: 目标地址转换; PREROUTING")])]),t._v(" "),a("Valine")],1)}),[],!1,null,null,null);r.default=s.exports}}]);